plugins {
    id 'com.zyxist.chainsaw' version '0.3.1' apply false
    id 'idea'
    id "org.jetbrains.kotlin.jvm" version "1.2.31" apply false
}

subprojects {
    apply plugin: 'idea'
    apply plugin: 'java-library'
    apply plugin: 'com.zyxist.chainsaw'
    apply plugin: 'org.jetbrains.kotlin.jvm'

    // As per https://stackoverflow.com/a/47669720
    // See also https://discuss.kotlinlang.org/t/kotlin-support-for-java-9-module-system/2499/9
    compileKotlin.destinationDir = compileJava.destinationDir
    jar.duplicatesStrategy = "exclude"
}

idea {
    project {
        // The idea plugin derives the JDK name as '1.9' while IDEA uses '9' as the default name for JDK 9
        jdkName = '9'
    }
}
